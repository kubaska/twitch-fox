<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <style>
        h3 {
            margin: 0.5em auto;
        }

        .row {
            padding: 10px;
            display: flex;
            justify-content: space-between;
        }
        .row:hover {
            background-color: rgba(0,0,0,.05);
            /*background-color: rgba(0,0,0,.075);*/
        }

        .description > p {
            font-size: 1.05em;
            font-weight: 600;
            margin: 0 0 4px 0;
        }
        .description > span {
            font-size: 0.9em;
            color: #6c757d;
            font-style: italic;
        }

        .row > .control {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 6px;
        }
        .control > :not(:only-child) {
            margin-left: 5px;
        }

        table .text {
            text-align: right;
        }
        table .control--input {
            text-align: center;
        }
        table .text:not(:last-child) {
            padding: 4px;
        }

        .message {
            font-size: 1em !important;
        }
        .success-message {
            color: green !important;
        }
        .error-message {
            color: red !important;
        }

        a { color: inherit; font-style: normal; }
        .d-none { display: none; }
    </style>
</head>

<body>

<form id="main-form">
    <h3>User interface settings</h3>
    <hr/>

    <div class="row">
        <div class="description">
            <p>Dark mode</p>
            <span>All cool kids use this.</span>
        </div>

        <div class="control">
            <input type="checkbox" data-internal="darkMode">
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Tooltips</p>
            <span>Shows help text when you hover on stuff. Disable if icons are enough for you.</span>
        </div>

        <div class="control">
            <input type="checkbox" data-internal="tooltips">
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Stream check interval</p>
            <span>How often do you want to check for online streams (in minutes).</span>
        </div>

        <div class="control">
            <input type="number" min="1" max="60" size="5" data-internal="minutesBetweenCheck" required>
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Language codes filter</p>
            <span>
                <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO-639-1 compliant</a>&nbsp;<span>language codes to filter streams by (e.g. 'en' for English) or "other" for all other languages without the code; comma separated.</span>
            </span>
        </div>

        <div class="control">
            <input type="text" data-internal="languageCodes">
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Show followed videos from all channels</p>
            <span>By default only favorite channels will be included in Followed Videos tab. Turn this on to show videos from all your follows. It is recommended to leave this off if you follow a large number of channels.</span>
        </div>

        <div class="control">
            <input type="checkbox" data-internal="fetchAllFollowedVideos">
        </div>
    </div>

    <h3>Stream Notifications</h3>
    <hr/>

    <div class="row">
        <div class="description">
            <p>Enable notifications</p>
        </div>

        <div class="control">
            <table>
                <tr>
                    <td></td>
                    <td class="text">Non-Favorites</td>
                    <td class="text">Favorites</td>
                </tr>
                <tr>
                    <td class="text">Text notification</td>
                    <td class="control--input">
                        <input type="checkbox" data-internal="notifications" data-flag="1">
                    </td>
                    <td class="control--input">
                        <input type="checkbox" data-internal="notifications" data-flag="4">
                    </td>
                </tr>
                <tr>
                    <td class="text">Audio notification</td>
                    <td class="control--input">
                        <input type="checkbox" data-internal="notifications" data-flag="2">
                    </td>
                    <td class="control--input">
                        <input type="checkbox" data-internal="notifications" data-flag="8">
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>After clicking notification, open...</p>
        </div>

        <div class="control">
            <table>
                <tr>
                    <td class="text">
                        <label for="notificationClick1">Stream in New Tab</label>
                    </td>
                    <td class="control--input">
                        <input id="notificationClick1" type="checkbox" data-internal="notificationClick" data-flag="1" />
                    </td>
                </tr>
                <tr>
                    <td class="text">
                        <label for="notificationClick2">Stream in Popout</label>
                    </td>
                    <td class="control--input">
                        <input id="notificationClick2" type="checkbox" data-internal="notificationClick" data-flag="2" />
                    </td>
                </tr>
                <tr>
                    <td class="text">
                        <label for="notificationClick4">Chat Popout</label>
                    </td>
                    <td class="control--input">
                        <input id="notificationClick4" type="checkbox" data-internal="notificationClick" data-flag="4" />
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Notification volume</p>
            <span>Play a sound alarm when new stream comes online. 0 to disable</span>
        </div>

        <div class="control">
            <input type="number" min="0" max="100" size="5" data-internal="notificationVolume" required>
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Test audio notification</p>
            <span></span>
        </div>

        <div class="control">
            <input type="button" id="testAudioNotification" value="Test audio">
        </div>
    </div>

    <h3>Follows Settings</h3>
    <hr/>

    <div class="row">
        <div class="description">
            <p>Import local follows</p>
            <span>This will overwrite your current follows.</span>
            <p id="importFollowsMessage" class="message error-message d-none"></p>
        </div>

        <div class="control">
            <input class="d-none" type="file" id="importFollowsHandle" accept="text/plain">
            <button type="button" id="importFollows">Import follows</button>
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Export local follows</p>
            <span>Exports follows to a text file, like a backup.</span>
        </div>

        <div class="control">
            <input type="button" id="exportFollows" value="Export follows">
        </div>
    </div>

    <h3>Advanced</h3>
    <hr/>

    <div class="row">
        <div class="description">
            <p>Synchronize follows & favorites</p>
            <span>Starting from Twitch Fox v5 your local follows and favorites are saved in local storage instead of sync storage due to its hard limits.</span><br/>
            <span>Turn this on to move data to sync storage. Turning off will move it back to local storage.</span><br/>
            <span>If you follow a lot of channels locally and need to use synchronization, consider moving some follows to your Twitch account.</span><br/>
            <span>Remember to export your follows first just to be safe.</span><br/>
            <span id="switchStorageEngineMessage" class="message d-none"></span>
        </div>

        <div class="control">
            <input type="checkbox" id="switchStorageEngine" />
        </div>
    </div>

    <div class="row">
        <div class="description">
            <p>Reset all settings</p>
            <span>Removes all settings. Use with care!</span>
        </div>

        <div class="control">
            <button type="button" id="resetSettings">Reset settings</button>
        </div>
    </div>
</form>

<script src="../options.js"></script>

</body>
</html>
